(function() {
  var Console;

  Console = require('../lib/console/console');

  describe('Output Module - Console', function() {
    var create, focus, model, remove, tab, _ref;
    model = null;
    tab = null;
    _ref = [], focus = _ref[0], create = _ref[1], remove = _ref[2];
    beforeEach(function() {
      model = new Console;
      focus = jasmine.createSpy('focus');
      create = jasmine.createSpy('create');
      remove = jasmine.createSpy('remove');
      model.onFocusTab(focus);
      model.onCreateTab(create);
      model.onRemoveTab(remove);
      return tab = model.getTab({
        project: 'foo',
        name: 'bar'
      });
    });
    afterEach(function() {
      return model.destroy();
    });
    it('adds a tab', function() {
      return expect(model.tabs['foo']['bar']).toBeDefined();
    });
    it('calls the create callback', function() {
      return expect(create).toHaveBeenCalled();
    });
    it('returns the same tab for the same command', function() {
      return expect(model.getTab({
        project: 'foo',
        name: 'bar'
      })).toEqual(tab);
    });
    describe('on focus', function() {
      beforeEach(function() {
        return tab.focus();
      });
      return it('emits the focus event', function() {
        return expect(focus).toHaveBeenCalledWith(tab);
      });
    });
    return describe('when close icon is clicked', function() {
      beforeEach(function() {
        return tab.header.find('.close').click();
      });
      it('removes the tab', function() {
        return expect(model.tabs['foo']['bar']).toBeUndefined();
      });
      return it('calls the remove callback', function() {
        return expect(remove).toHaveBeenCalledWith(tab);
      });
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL2hvbWUvbml2Ly5hdG9tL3BhY2thZ2VzL2J1aWxkLXRvb2xzL3NwZWMvY29uc29sZS1zcGVjLmNvZmZlZSIKICBdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICJBQUFBO0FBQUEsTUFBQSxPQUFBOztBQUFBLEVBQUEsT0FBQSxHQUFVLE9BQUEsQ0FBUSx3QkFBUixDQUFWLENBQUE7O0FBQUEsRUFFQSxRQUFBLENBQVMseUJBQVQsRUFBb0MsU0FBQSxHQUFBO0FBQ2xDLFFBQUEsdUNBQUE7QUFBQSxJQUFBLEtBQUEsR0FBUSxJQUFSLENBQUE7QUFBQSxJQUNBLEdBQUEsR0FBTSxJQUROLENBQUE7QUFBQSxJQUVBLE9BQTBCLEVBQTFCLEVBQUMsZUFBRCxFQUFRLGdCQUFSLEVBQWdCLGdCQUZoQixDQUFBO0FBQUEsSUFJQSxVQUFBLENBQVcsU0FBQSxHQUFBO0FBQ1QsTUFBQSxLQUFBLEdBQVEsR0FBQSxDQUFBLE9BQVIsQ0FBQTtBQUFBLE1BQ0EsS0FBQSxHQUFRLE9BQU8sQ0FBQyxTQUFSLENBQWtCLE9BQWxCLENBRFIsQ0FBQTtBQUFBLE1BRUEsTUFBQSxHQUFTLE9BQU8sQ0FBQyxTQUFSLENBQWtCLFFBQWxCLENBRlQsQ0FBQTtBQUFBLE1BR0EsTUFBQSxHQUFTLE9BQU8sQ0FBQyxTQUFSLENBQWtCLFFBQWxCLENBSFQsQ0FBQTtBQUFBLE1BSUEsS0FBSyxDQUFDLFVBQU4sQ0FBaUIsS0FBakIsQ0FKQSxDQUFBO0FBQUEsTUFLQSxLQUFLLENBQUMsV0FBTixDQUFrQixNQUFsQixDQUxBLENBQUE7QUFBQSxNQU1BLEtBQUssQ0FBQyxXQUFOLENBQWtCLE1BQWxCLENBTkEsQ0FBQTthQU9BLEdBQUEsR0FBTSxLQUFLLENBQUMsTUFBTixDQUFhO0FBQUEsUUFBQSxPQUFBLEVBQVMsS0FBVDtBQUFBLFFBQWdCLElBQUEsRUFBTSxLQUF0QjtPQUFiLEVBUkc7SUFBQSxDQUFYLENBSkEsQ0FBQTtBQUFBLElBY0EsU0FBQSxDQUFVLFNBQUEsR0FBQTthQUNSLEtBQUssQ0FBQyxPQUFOLENBQUEsRUFEUTtJQUFBLENBQVYsQ0FkQSxDQUFBO0FBQUEsSUFpQkEsRUFBQSxDQUFHLFlBQUgsRUFBaUIsU0FBQSxHQUFBO2FBQ2YsTUFBQSxDQUFPLEtBQUssQ0FBQyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsS0FBQSxDQUF6QixDQUFnQyxDQUFDLFdBQWpDLENBQUEsRUFEZTtJQUFBLENBQWpCLENBakJBLENBQUE7QUFBQSxJQW9CQSxFQUFBLENBQUcsMkJBQUgsRUFBZ0MsU0FBQSxHQUFBO2FBQzlCLE1BQUEsQ0FBTyxNQUFQLENBQWMsQ0FBQyxnQkFBZixDQUFBLEVBRDhCO0lBQUEsQ0FBaEMsQ0FwQkEsQ0FBQTtBQUFBLElBdUJBLEVBQUEsQ0FBRywyQ0FBSCxFQUFnRCxTQUFBLEdBQUE7YUFDOUMsTUFBQSxDQUFPLEtBQUssQ0FBQyxNQUFOLENBQWE7QUFBQSxRQUFBLE9BQUEsRUFBUyxLQUFUO0FBQUEsUUFBZ0IsSUFBQSxFQUFNLEtBQXRCO09BQWIsQ0FBUCxDQUFpRCxDQUFDLE9BQWxELENBQTBELEdBQTFELEVBRDhDO0lBQUEsQ0FBaEQsQ0F2QkEsQ0FBQTtBQUFBLElBMEJBLFFBQUEsQ0FBUyxVQUFULEVBQXFCLFNBQUEsR0FBQTtBQUVuQixNQUFBLFVBQUEsQ0FBVyxTQUFBLEdBQUE7ZUFDVCxHQUFHLENBQUMsS0FBSixDQUFBLEVBRFM7TUFBQSxDQUFYLENBQUEsQ0FBQTthQUdBLEVBQUEsQ0FBRyx1QkFBSCxFQUE0QixTQUFBLEdBQUE7ZUFDMUIsTUFBQSxDQUFPLEtBQVAsQ0FBYSxDQUFDLG9CQUFkLENBQW1DLEdBQW5DLEVBRDBCO01BQUEsQ0FBNUIsRUFMbUI7SUFBQSxDQUFyQixDQTFCQSxDQUFBO1dBa0NBLFFBQUEsQ0FBUyw0QkFBVCxFQUF1QyxTQUFBLEdBQUE7QUFFckMsTUFBQSxVQUFBLENBQVcsU0FBQSxHQUFBO2VBQ1QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFYLENBQWdCLFFBQWhCLENBQXlCLENBQUMsS0FBMUIsQ0FBQSxFQURTO01BQUEsQ0FBWCxDQUFBLENBQUE7QUFBQSxNQUdBLEVBQUEsQ0FBRyxpQkFBSCxFQUFzQixTQUFBLEdBQUE7ZUFDcEIsTUFBQSxDQUFPLEtBQUssQ0FBQyxJQUFLLENBQUEsS0FBQSxDQUFPLENBQUEsS0FBQSxDQUF6QixDQUFnQyxDQUFDLGFBQWpDLENBQUEsRUFEb0I7TUFBQSxDQUF0QixDQUhBLENBQUE7YUFNQSxFQUFBLENBQUcsMkJBQUgsRUFBZ0MsU0FBQSxHQUFBO2VBQzlCLE1BQUEsQ0FBTyxNQUFQLENBQWMsQ0FBQyxvQkFBZixDQUFvQyxHQUFwQyxFQUQ4QjtNQUFBLENBQWhDLEVBUnFDO0lBQUEsQ0FBdkMsRUFuQ2tDO0VBQUEsQ0FBcEMsQ0FGQSxDQUFBO0FBQUEiCn0=

//# sourceURL=/home/niv/.atom/packages/build-tools/spec/console-spec.coffee
