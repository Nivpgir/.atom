(function() {
  var Command, Dependency;

  Dependency = require('../lib/modifier/dependency');

  Command = require('../lib/provider/command');

  describe('Queue Modifier - Dependencies', function() {
    var command, queue;
    command = null;
    queue = null;
    beforeEach(function() {
      var p;
      Dependency.activate(null, require('../lib/provider/project', null));
      command = new Command({
        project: atom.project.getPaths()[0],
        source: require('path').join(atom.project.getPaths()[0], '.build-tools.cson'),
        name: 'Test 2',
        command: 'echo Hello World',
        modifier: {
          dependency: {
            abort: false,
            list: [[1, 1, 'Bar 2'], [0, 0, 'Test'], [0, 2, 'Test 2']]
          }
        },
        version: 1
      });
      queue = {
        queue: [command]
      };
      p = Dependency["in"](queue);
      return waitsForPromise(function() {
        return p;
      });
    });
    return it('returns the correct queue', function() {
      expect(queue.queue[0].name).toBe('Bar');
      expect(queue.queue[1].name).toBe('Bar 2');
      expect(queue.queue[2].name).toBe('Test');
      return expect(queue.queue[3].name).toBe('Test 2');
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL2hvbWUvbml2Ly5hdG9tL3BhY2thZ2VzL2J1aWxkLXRvb2xzL3NwZWMvbW9kaWZpZXItZGVwZW5kZW5jeS1zcGVjLmNvZmZlZSIKICBdLAogICJuYW1lcyI6IFtdLAogICJtYXBwaW5ncyI6ICJBQUFBO0FBQUEsTUFBQSxtQkFBQTs7QUFBQSxFQUFBLFVBQUEsR0FBYSxPQUFBLENBQVEsNEJBQVIsQ0FBYixDQUFBOztBQUFBLEVBQ0EsT0FBQSxHQUFVLE9BQUEsQ0FBUSx5QkFBUixDQURWLENBQUE7O0FBQUEsRUFHQSxRQUFBLENBQVMsK0JBQVQsRUFBMEMsU0FBQSxHQUFBO0FBQ3hDLFFBQUEsY0FBQTtBQUFBLElBQUEsT0FBQSxHQUFVLElBQVYsQ0FBQTtBQUFBLElBQ0EsS0FBQSxHQUFRLElBRFIsQ0FBQTtBQUFBLElBR0EsVUFBQSxDQUFXLFNBQUEsR0FBQTtBQUNULFVBQUEsQ0FBQTtBQUFBLE1BQUEsVUFBVSxDQUFDLFFBQVgsQ0FBb0IsSUFBcEIsRUFBMEIsT0FBQSxDQUFRLHlCQUFSLEVBQW1DLElBQW5DLENBQTFCLENBQUEsQ0FBQTtBQUFBLE1BQ0EsT0FBQSxHQUFjLElBQUEsT0FBQSxDQUFRO0FBQUEsUUFDcEIsT0FBQSxFQUFTLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBYixDQUFBLENBQXdCLENBQUEsQ0FBQSxDQURiO0FBQUEsUUFFcEIsTUFBQSxFQUFRLE9BQUEsQ0FBUSxNQUFSLENBQWUsQ0FBQyxJQUFoQixDQUFxQixJQUFJLENBQUMsT0FBTyxDQUFDLFFBQWIsQ0FBQSxDQUF3QixDQUFBLENBQUEsQ0FBN0MsRUFBaUQsbUJBQWpELENBRlk7QUFBQSxRQUdwQixJQUFBLEVBQU0sUUFIYztBQUFBLFFBSXBCLE9BQUEsRUFBUyxrQkFKVztBQUFBLFFBS3BCLFFBQUEsRUFDRTtBQUFBLFVBQUEsVUFBQSxFQUNFO0FBQUEsWUFBQSxLQUFBLEVBQU8sS0FBUDtBQUFBLFlBQ0EsSUFBQSxFQUFNLENBQ0osQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLE9BQVAsQ0FESSxFQUVKLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxNQUFQLENBRkksRUFHSixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sUUFBUCxDQUhJLENBRE47V0FERjtTQU5rQjtBQUFBLFFBYXBCLE9BQUEsRUFBUyxDQWJXO09BQVIsQ0FEZCxDQUFBO0FBQUEsTUFnQkEsS0FBQSxHQUNFO0FBQUEsUUFBQSxLQUFBLEVBQU8sQ0FBQyxPQUFELENBQVA7T0FqQkYsQ0FBQTtBQUFBLE1Ba0JBLENBQUEsR0FBSSxVQUFVLENBQUMsSUFBRCxDQUFWLENBQWMsS0FBZCxDQWxCSixDQUFBO2FBbUJBLGVBQUEsQ0FBZ0IsU0FBQSxHQUFBO2VBQUcsRUFBSDtNQUFBLENBQWhCLEVBcEJTO0lBQUEsQ0FBWCxDQUhBLENBQUE7V0F5QkEsRUFBQSxDQUFHLDJCQUFILEVBQWdDLFNBQUEsR0FBQTtBQUM5QixNQUFBLE1BQUEsQ0FBTyxLQUFLLENBQUMsS0FBTSxDQUFBLENBQUEsQ0FBRSxDQUFDLElBQXRCLENBQTJCLENBQUMsSUFBNUIsQ0FBaUMsS0FBakMsQ0FBQSxDQUFBO0FBQUEsTUFDQSxNQUFBLENBQU8sS0FBSyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUF0QixDQUEyQixDQUFDLElBQTVCLENBQWlDLE9BQWpDLENBREEsQ0FBQTtBQUFBLE1BRUEsTUFBQSxDQUFPLEtBQUssQ0FBQyxLQUFNLENBQUEsQ0FBQSxDQUFFLENBQUMsSUFBdEIsQ0FBMkIsQ0FBQyxJQUE1QixDQUFpQyxNQUFqQyxDQUZBLENBQUE7YUFHQSxNQUFBLENBQU8sS0FBSyxDQUFDLEtBQU0sQ0FBQSxDQUFBLENBQUUsQ0FBQyxJQUF0QixDQUEyQixDQUFDLElBQTVCLENBQWlDLFFBQWpDLEVBSjhCO0lBQUEsQ0FBaEMsRUExQndDO0VBQUEsQ0FBMUMsQ0FIQSxDQUFBO0FBQUEiCn0=

//# sourceURL=/home/niv/.atom/packages/build-tools/spec/modifier-dependency-spec.coffee
